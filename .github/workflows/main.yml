name: ZenRupi CI/CD

on: [push, pull_request]

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Repo'yu Klonla
        uses: actions/checkout@v3

      - name: Python Kur
        uses: actions/setup-python@v4
        with:
          python-version: '3.10'

      - name: Gerekli Paketleri Yükle
        run: pip install -r requirements.txt

      - name: Wallet Oluştur
        run: python3 scripts/create_wallet.py

      - name: XLM Yükle
        run: python3 scripts/fund_wallet.py

      - name: Trustline Aç
        run: python3 scripts/create_trustline.py

      - name: ZenRupi Tokeni Oluştur
        run: python3 scripts/create_zenrupi.py

      - name: ZenRupi Gönder
        run: python3 scripts/send_zenrupi.py
