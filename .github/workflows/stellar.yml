name: Stellar Transactions

on:
  push:
    branches:
      - main  # Ana branch'e her push yapıldığında çalışacak

jobs:
  stellar_transaction:
    runs-on: ubuntu-latest

    steps:
      - name: 🛠️ GitHub Repo'yu Klonla
        uses: actions/checkout@v3

      - name: 🏗️ Python Bağımlılıklarını Kur
        run: |
          sudo apt update
          sudo apt install -y python3-pip
          pip3 install stellar-sdk requests

      - name: 🌐 Stellar Cüzdanı Oluştur
        run: python3 scripts/create_wallet.py

      - name: ✅ Stellar Testnet'ten XLM Al
        run: python3 scripts/fund_wallet.py

      - name: 💸 XLM Gönder
        run: python3 scripts/send_xlm.py
